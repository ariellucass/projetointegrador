[global]
user_agent=PABX-Corporativo-v1.0  ; Nome do User Agent que seu Asterisk mostrará (opcional)
default_language=pt_BR            ; Define o idioma padrão para os áudios do Asterisk

[transport-udp]
type=transport
protocol=udp                      
bind=0.0.0.0                      ; Endereço IP onde o Asterisk irá escutar. 0.0.0.0 significa "em todas as interfaces de rede".
local_net=10.0.0.0/24          ; **IMPORTANTE**: Defina sua rede local aqui. Ajuda o Asterisk a otimizar o fluxo de mídia.
;external_media_address=SEU_IP_PUBLICO_AQUI ; **IMPORTANTE**: Se o servidor está atrás de NAT, coloque seu IP público aqui.
;external_signaling_address=SEU_IP_PUBLICO_AQUI ; **IMPORTANTE**: Se o servidor está atrás de NAT, coloque seu IP público aqui.

; =================================================================================
; RAMAL 2001
; =================================================================================

[2001]
type=endpoint
context=ramais-internos           ; Contexto no dialplan (extensions.conf) para tratar as chamadas deste ramal.
disallow=all                      ; Primeiro, desabilita todos os codecs para garantir uma lista limpa.
allow=alaw                        ; Permite o codec G.711 a-law (padrão no Brasil/Europa).
allow=ulaw                        ; Permite o codec G.711 u-law.
allow=g729                        ; Permite o codec G.729 (bom para economizar banda).
allow=opus                        ; Codec moderno, excelente qualidade e eficiência.
dtmf_mode=rfc4733                 ; Método recomendado para envio de tons DTMF.
direct_media=no                   ; Força o áudio (RTP) a passar pelo Asterisk. Essencial para gravação ou se os ramais estiverem em redes diferentes.
force_rport=yes                   ; Ajuda na comunicação com dispositivos atrás de NAT.
rewrite_contact=yes               ; Também auxilia na comunicação com dispositivos atrás de NAT.
auth=auth_2001                    ; Associa este endpoint à seção de autenticação 'auth_2001'.
aors=2001                         ; Associa este endpoint à seção de 'Address of Record' (AOR) '2001'.
callerid="Diretoria" <2001>       ; Define o nome e número que aparecerão no identificador de chamadas.

[auth_2001]
type=auth
auth_type=userpass                ; Tipo de autenticação: usuário e senha.
username=2001                     ; Nome de usuário para o registro SIP.
password=1234         ; !!! ATENÇÃO: MUDE ESTA SENHA PARA UMA SENHA SEGURA !!!

[2001]
type=aor
max_contacts=1                    ; Permite que apenas 1 dispositivo (softphone/telefone IP) se registre neste ramal por vez.
remove_existing=yes               ; Se um novo registro chegar, o antigo é removido.

; =================================================================================
; RAMAL 2002
; =================================================================================

[2002]
type=endpoint
context=ramais-internos           ; Contexto no dialplan (extensions.conf) para tratar as chamadas deste ramal.
disallow=all                      ; Primeiro, desabilita todos os codecs.
allow=alaw                        ; Permite o codec G.711 a-law.
allow=ulaw                        ; Permite o codec G.711 u-law.
allow=g729                        ; Permite o codec G.729.
allow=opus                        ; Permite o codec Opus.
dtmf_mode=rfc4733                 ; Método recomendado para envio de tons DTMF.
direct_media=no                   ; Força o áudio (RTP) a passar pelo Asterisk.
force_rport=yes                   ; Ajuda na comunicação com dispositivos atrás de NAT.
rewrite_contact=yes               ; Também auxilia na comunicação com dispositivos atrás de NAT.
auth=auth_2002                    ; Associa este endpoint à seção de autenticação 'auth_2002'.
aors=2002                         ; Associa este endpoint à seção 'Address of Record' (AOR) '2002'.
callerid="Financeiro" <2002>      ; Define o nome e número que aparecerão no identificador de chamadas.

[auth_2002]
type=auth
auth_type=userpass                ; Tipo de autenticação: usuário e senha.
username=2002                     ; Nome de usuário para o registro SIP.
password=1234         ; !!! ATENÇÃO: MUDE ESTA SENHA PARA UMA SENHA SEGURA !!!
[2002]
type=aor
max_contacts=1                    ; Permite que apenas 1 dispositivo se registre neste ramal por vez.
remove_existing=yes               ; Se um novo registro chegar, o antigo é removido.


#tryinclude /etc/asterisk/ramaismoradores.conf
